  <h1>Hangman</h1>

  <button onclick="newGame()">New Game</button>

  <pre id="output"></pre>

  <script>
    async function newGame() {
      const res = await fetch('/game/new', {
        method: 'POST',
        headers: { 'X-CSRFToken': getCookie('csrftoken') }
      });
      const data = await res.json();
      document.getElementById('output').textContent = JSON.stringify(data, null, 2);
    }

    function getCookie(name) {
      const match = document.cookie.match(new RegExp('(^| )' + name + '=([^;]+)'));
      return match ? match[2] : '';
    }
  </script>
</body>